<html>
  <head>
    <style>
img {
  border: 1px solid black;
}
    </style>
    <script>
function showPreview() {
  var file = document.getElementById("chooser").files.item(0);
  var img = document.getElementById("preview");
  img.file = file;
  var reader = new FileReader();
  reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; aImg.style.display = "block"}; })(img);
  reader.readAsDataURL(file);
}

var win;
function doe() {
win=window.open('capture.htm');
//setTimeout(function() {win.close();}, 5000);
}
    </script>
  </head>
  <body>
<button onclick="doe()">openwin</button>
    <h1>Camera Input Picker</h1>
Choose file: <input id="chooser" type="file" accept="image/png" onchange="showPreview();"> </input>
<br/>  
  Preview : <img id="preview" style="display:none;"/>
  </body>
</html>
