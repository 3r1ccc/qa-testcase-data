<html><head>
<title>document.visibilityState</title>

<style>
</style>
</head>
<body>
<pre id="result"></pre>
<script>
    function doe() {
if ('visibilityState' in document) {
        document.getElementById('result').innerHTML += 'document.visibilityState:' + document.visibilityState + '<br>';
        document.getElementById('result').innerHTML += 'document.hidden:' + document.hidden + '<br>';
}
else
        document.getElementById('result').innerHTML += 'document.mozVisibilityState:' + document.mozVisibilityState + '<br>';
        document.getElementById('result').innerHTML += 'document.mozHidden:' + document.mozHidden + '<br>';
    }  
doe();
  document.addEventListener('visibilitychange', doe, true);
document.addEventListener('mozvisibilitychange', doe, true);
</script>
</body>
</html>